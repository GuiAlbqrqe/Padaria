{% extends 'base.html' %} 

{% block pesquisa %}
<form class="d-flex" 
 role="search" 
 action="{{url_for ('listar_produtos')}}" 
 method="post">
  <input class="form-control me-2" type="search" aria-label="Search" name="pesquisa">
  <button class="btn btn-outline-success" type="submit">Pesquisar</button>
</form>
{% endblock %} 

{% block main %}
<div class="container">
  <br />
  <div class="d-flex justify-content-center">
    <h1>Listar Produtos</h1>
  </div>
  <hr />
  <div class="row">
    {% for produto in produtos %}
    <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
      <div
        class="card d-flex flex-column"
        style="width: 18rem; min-height: 100%"
      >
        <h5 class="card-header">{{produto.nome}}</h5>
        <img
          src="{{url_for('static', filename='imagens/' + produto.imagem)}}"
          class="card-img-top"
          alt="{{produto.nome}}"
        />
        <div class="card-body d-flex flex-column justify-content-between">
          <p class="card-text">{{produto.descricao}}</p>
          <hr />
          <h6 class="card-subtitle mb-2 text-body-secondary">Ingredientes</h6>
          <p>{{produto.ingredientes}}</p>
          <hr />
          <h6 class="card-subtitle mb-2 text-body-secondary">Origem</h6>
          <p>{{produto.origem}}</p>
        <div class="mt-auto d-flex flex-column">
          <a href="{{url_for('editar_produto', id=produto.id)}}" class="btn btn-primary mt-auto">Editar</a>
          <br>
          <a href="{{url_for('deletar_produto', id=produto.id)}}" onclick="return confirm('Deseja realmente deletar esse produto?')" class="btn btn-danger mt-auto">Deletar</a>
        </div>
        </div>
      </div>
      <br />
    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}
